<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="./assets/img/Favi.jpg">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./css/styles.css">
    <title>Jairo Vera - Portafolio</title>
</head>
<body>
    <div>
        <a href="https://api.whatsapp.com/send?phone=51965816742&text=Hola%21%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20sobre%20Alfajores%." class="float" target="_blank">
        <i class="bi bi-chat-text my-float align-bottom"></i>
        </a>
    </div>
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light ">
            <div class="container">
                <div class="contenedor__logo">
                    <a href="#" class="header__link">
                        <img src="./assets/img/Favi.jpg" alt="favi_logo" class="header__img">
                    </a>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                    <ul class="navbar-nav gap-3">
                        <li class="nav-item">
                            <a class="nav-link options__click word" href="#" data-bs-toggle="modal" data-bs-target="#IniciarSesionModal">Iniciar sesion</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link options__click word" href="#" data-bs-toggle="modal" data-bs-target="#RegistroModal">Registrarse</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link options__click word"  href="#" id="logout">Cerrar Sesion</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section class="hero__section">
            <!--Inicio de Seccion "Hero"-->
            <div class="container">
                <h1 class="hero__titulo text-center mb-4">
                    Jairo Vera
                    <p class="hero__subtitulo fw-lighter"><i class="bi bi-camera2"></i> Portafolio Fotográfico <i class="bi bi-camera2"></i></p>
                </h1> 
                
                
                <div class=" text-center">
                    <button type="button" class="btn btn__aboutme btn-outline-light mb-2">
                        Conóceme
                </div>
            </div>         
        </section>
    </main>








    <!--Modal Registrarse -->
    <div class="modal fade" id="RegistroModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Registrarse</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" >
                <form action="" id="registro-form">
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-at" viewBox="0 0 16 16">
                            <path d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"/>
                        </svg>
                        Ingrese Correo: 
                    </p>
                    <input type="email" id="email" class="container mb-4" placeholder="Correo Electronico" required>
                    
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="29" fill="currentColor" class="bi bi-lock" viewBox="0 0 16 16">
                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"/>
                        </svg>
                        Ingrese Contraseña: 
                    </p>
                    <input type="password" id="pass" class="container" placeholder="Contraseña" required> 
                    
                </form>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cerrar</button>
            <button  type="submit" id="signup" class="btn btn-dark">Registrar</button>
            </div>
        </div>
        </div>
    </div>

    <!--Modal Iniciar sesion -->
    <div class="modal fade" id="IniciarSesionModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Iniciar Sesión</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" >
                <form action="" id="iniciosesion-form">
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-at" viewBox="0 0 16 16">
                            <path d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"/>
                        </svg>
                        Ingrese Correo: 
                    </p>
                    <input type="email" id="email-login" class="container mb-4" placeholder="Correo Electronico" required>
                    
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="29" fill="currentColor" class="bi bi-lock" viewBox="0 0 16 16">
                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"/>
                        </svg>
                        Ingrese Contraseña: 
                    </p>
                    <input type="password" id="pass-login" class="container" placeholder="Contraseña" required> 
                </form>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cerrar</button>
            <button  type="submit" id="signin" class="btn btn-dark">Iniciar sesion</button>
            </div>
        </div>
        </div>
    </div> 

   

    
    




    <!-- Bootstrap scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- Alertas personalizadas -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


    <!-- Firebase  scripts -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        //importamos firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        //importamos firebase-analiticas
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js";
        //importamos firebase-autenticacion por correo y contraseña
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
        //importamos firebase-base de datos firestore
        import { getFirestore, collection, getDocs, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";


        
        
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAYoqse_s5gInyoKNp34eBLiHBcNaEbRQM",
            authDomain: "fb-portafolio-4c6f2.firebaseapp.com",
            projectId: "fb-portafolio-4c6f2",
            storageBucket: "fb-portafolio-4c6f2.appspot.com",
            messagingSenderId: "162425470362",
            appId: "1:162425470362:web:716151e3ae61ab99da8e23",
            measurementId: "G-0G9KGQ0D74"
        };

        

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const postsRef = collection(db, "posts");
        const user = auth.currentUser;
        

        var myModal = new bootstrap.Modal(document.getElementById('RegistroModal'), {
            keyboard: false
        })

        var myModal = new bootstrap.Modal(document.getElementById('IniciarSesionModal'), {
            keyboard: false
        })

        //Registrar usuario por correo
        document.getElementById('signup').addEventListener('click' , function(){
            const email = document.getElementById("email").value
            const password = document.getElementById("pass").value

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in
                    const user = userCredential.user;
                    //Resetear formulario
                    document.getElementById('registro-form').reset();
                    // Notificacion de exito
                    swal("Registro Existoso!", "Se registro el correo y contraseña de forma correcta!", "success");    
                    //Ocultar modal - Firebases
                    myModal.hide()              
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    console.log(errorCode + errorMessage)
                    // Notificacion de error
                    swal("Oops!", "Revise el correo y la contraseña!", "error");
                });
        })


        //Iniciar sesion por correo
        document.getElementById('signin').addEventListener('click' , function(){
            const email_login = document.getElementById("email-login").value
            const password_login = document.getElementById("pass-login").value

            signInWithEmailAndPassword(auth, email_login, password_login)
                .then((userCredential) => {
                    // Signed in
                    const user = userCredential.user;
                    document.getElementById('iniciosesion-form').reset();

                    window.location.href = "./assets/pages/home.html";  
                    //Ocultar modal - Firebases
                    myModal.hide()
                    
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    console.log(errorCode + errorMessage)
                    swal("Oops!", "Correo y/o contraseña incorrecto", "error");
                });
        })
        
        //Cerrar sesion desde firebase
        const logout = document.querySelector("#logout");
        logout.addEventListener('click', e =>{
            e.preventDefault();
            auth.signOut().then(()=>{
                console.log("cerrar sesion")
            })
        })




        
    </script>
    <script src="scripts/main.js"></script>
</body>
</html>



